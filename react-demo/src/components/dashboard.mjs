import{d as t,s as n,c as e,a,i as o,b as s,S as i,t as r,e as c,f as l,g as d,n as h,h as w}from"./Shell-D0Cge2mY.js";var g=r("<button>Session Info"),u=r("<button>Sign Out"),S=r("<div><h2>Dashboard</h2><div class=form-wrap part=st-dashboard>");function f({navigate:t}){n(),void 0===t&&(t=t=>{window.location.href=t});const[r,l]=e(!0),d=async()=>{const t=await fetch("http://localhost:3001/sessioninfo",{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}),n=await t.json();alert(JSON.stringify(n))};async function h(){await c.signOut(),t?.("/")}return a((async()=>{await c.doesSessionExist()?l(!1):t?.("/")})),w=S(),f=w.firstChild,p=f.nextSibling,f.style.setProperty("text-align","center"),o(p,s(i,{get when(){return r()},children:"Loading..."}),null),o(p,s(i,{get when(){return!r()},get children(){return[(n=g(),n.$$click=d,n),(t=u(),t.$$click=h,t)];var t,n}}),null),w;var w,f,p}t(["click"]);const p=async()=>{l("st-dashboard",{},((t,{element:n})=>{const e=new CSSStyleSheet;e.replaceSync(d),n.navigate=t=>{window.location.href=t};const a=t=>{n.navigate(t)};return()=>(h(),n.shadowRoot.adoptedStyleSheets=[e],s(w,{get children(){return s(f,{navigate:a})}}))}))},y=t=>{console.log("stub for router"),console.log(t)};window.ST=window.ST||{},window.ST={...window.ST,Dashboard:{load:p,generateRoutes:y}};export{y as generateRoutes,p as load};
